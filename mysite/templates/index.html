<!DOCTYPE html>
{% extends 'base.html' %}

{% block content %}
  <center>
    <div style="background-color: rgb(255, 255, 255, .1); padding-bottom: 2em;">
      <h1 style="padding-top: 0.4em">Elements of Computing Final Project</h1>
      <h4 style="padding-top: 0.25em">By Jack Slattery</h4>
    </div>
    <div id="cesiumContainer"></div>
      <script>

      Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIwMGZkMzlkYy0xNDdkLTQ5MTEtYjY2OS1jN2JjNzllNmZlMzgiLCJpZCI6ODc1MDMsImlhdCI6MTY0ODU3NjczMX0.1JhoIllSRmkhIjzTipN2UYWWSvTOC6eRx2T0sMzE3b0';

      // Initialize the Cesium Viewer in the HTML element with the `cesiumContainer` ID.
      const viewer = new Cesium.Viewer('cesiumContainer', {
        shouldAnimate: true
      });
      viewer.scene.globe.enableLighting = true;

      var updateView = "{{updateViewer}}"

      function updateCesiumView() {
        // Update the Cesium Viewer
        if (updateView == "True") {
          viewer.dataSources.removeAll();
          czmlJson = JSON.parse('{{shownCzml | tojson}}');
          viewer.dataSources.add(
            Cesium.CzmlDataSource.load(czmlJson)
          );
        }
        return true;
      }

      if (updateView == "True") {
        updateCesiumView()
      }

      </script>
    </div>
    <center>
      <form>
        <div class="form-group" style="padding-top: 1em;">
          <button type='submit' class="btn btn-primary btn-lg">Submit</button>
          <div style="overflow:scroll; height:20em; width:70em; padding-top:3em;">
            <div class="table-responsive">
              <table class="table table-striped table-sm">
                <thead>
                  <tr>
                    <th>Include?</th>
                    <th>Name</th>
                    <th>Satcat Code</th>
                  </tr>
                </thead>
                <tbody>
                  {% for key,value in df_final.iterrows() %}
                    <tr>
                      <td>
                        <div class="form-check">
                          <input type="checkbox" class="form-check-input" id="sat-{{value['Satcat']}}" name="sat-{{value['Satcat']}}" value="on">
                        </div>
                      </td>
                      <td>{{value['Name']}}</td>
                      <td>{{value['Satcat']}}
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </form>
    </center>
  </center>
{% endblock %}